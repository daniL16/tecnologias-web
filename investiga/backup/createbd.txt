 DROP TABLE ARTICULOS;

CREATE TABLE `ARTICULOS` (
  `NOMBRE_REVISTA` text NOT NULL,
  `VOLUMEN` int(11) NOT NULL,
  `PAGINAS` int(11) NOT NULL,
  `DOI` varchar(32) NOT NULL,
  PRIMARY KEY (`DOI`),
  CONSTRAINT `ARTICULOS_ibfk_1` FOREIGN KEY (`DOI`) REFERENCES `PUBLICACIONES` (`DOI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;




 DROP TABLE CAPITULO_LIBRO;

CREATE TABLE `CAPITULO_LIBRO` (
  `TITULO` text NOT NULL,
  `EDITORIAL` text NOT NULL,
  `EDITOR` text NOT NULL,
  `ISBN` text NOT NULL,
  `DOI` varchar(32) NOT NULL,
  PRIMARY KEY (`DOI`),
  CONSTRAINT `CAPITULO_LIBRO_ibfk_1` FOREIGN KEY (`DOI`) REFERENCES `PUBLICACIONES` (`DOI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;




 DROP TABLE CONFERENCIAS;

CREATE TABLE `CONFERENCIAS` (
  `NOMBRE` text NOT NULL,
  `LUGAR` text NOT NULL,
  `RESERVA` text NOT NULL,
  `DOI` varchar(32) NOT NULL,
  PRIMARY KEY (`DOI`),
  CONSTRAINT `CONFERENCIAS_ibfk_1` FOREIGN KEY (`DOI`) REFERENCES `PUBLICACIONES` (`DOI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;




 DROP TABLE LIBROS;

CREATE TABLE `LIBROS` (
  `EDITORIAL` text NOT NULL,
  `EDITOR` text NOT NULL,
  `ISBN` text NOT NULL,
  `DOI` varchar(32) NOT NULL,
  PRIMARY KEY (`DOI`),
  CONSTRAINT `LIBROS_ibfk_1` FOREIGN KEY (`DOI`) REFERENCES `PUBLICACIONES` (`DOI`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;




 DROP TABLE LOG;

CREATE TABLE `LOG` (
  `USUARIO` text NOT NULL,
  `FECHA` text NOT NULL,
  `HORA` text NOT NULL,
  `ACCION` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

 DROP TABLE PROYECTOS;

CREATE TABLE `PROYECTOS` (
  `CODIGO` varchar(32) NOT NULL,
  `TITULO` text NOT NULL,
  `FECHA_COMIENZO` date DEFAULT NULL,
  `FECHA_FIN` date DEFAULT NULL,
  `DESCRIPCION` longtext NOT NULL,
  `ENTIDADES` text,
  `CUANTIA` int(11) DEFAULT '0',
  `INVESTIGADOR_PPAL` varchar(32) DEFAULT NULL,
  `COLABORADORES` text NOT NULL,
  `URL` text,
  PRIMARY KEY (`CODIGO`),
  KEY `INVESTIGADOR_PPAL` (`INVESTIGADOR_PPAL`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

 DROP TABLE MIEMBROS;

CREATE TABLE `MIEMBROS` (
  `NOMBRE` text NOT NULL,
  `APELLIDOS` text NOT NULL,
  `CATEGORIA` text,
  `EMAIL` varchar(32) NOT NULL,
  `PASSWORD` text NOT NULL,
  `TELEFONO` text,
  `URL` text,
  `DEPARTAMENTO` text,
  `CENTRO` text,
  `UNIVERSIDAD` text,
  `DIRECCION` text,
  `FOTO` text,
  `ES_DIRECTOR` tinyint(1) NOT NULL DEFAULT '0',
  `ES_ADMIN` tinyint(1) NOT NULL DEFAULT '0',
  `BLOQUEO` tinyint(1) NOT NULL DEFAULT '0',
  `MIEMBRO_ANTIGUO` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`EMAIL`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


 DROP TABLE PUBLICACIONES;

CREATE TABLE `PUBLICACIONES` (
  `DOI` varchar(32) NOT NULL,
  `TITULO` text NOT NULL,
  `AUTORES` text NOT NULL,
  `FECHA` date NOT NULL,
  `ABSTRACT` longtext NOT NULL,
  `KEYWORDS` text NOT NULL,
  `URL` text NOT NULL,
  `PROYECTO` varchar(32) NOT NULL,
  PRIMARY KEY (`DOI`),
  KEY `PROYECTO` (`PROYECTO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
